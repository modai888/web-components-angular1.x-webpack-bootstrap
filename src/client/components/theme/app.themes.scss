@mixin color-schema($th-color, $percent, $sat-percent) {
    @if $percent < 0 {
        background-color: desaturate(lighten($th-color, -$percent), -$sat-percent);
    } @else {
        background-color: saturate(darken($th-color, $percent), $sat-percent);
    }
}

// 为指定的颜色建立颜色梯度：更浅 浅 原色 深 更深
@mixin color-variant($th-color,$lt-percent, $lter-percent,$dk-percent,$dker-percent) {
    background-color: $th-color;

    // 正常色
    .bg, &.bg {
        background-color: $th-color;
    }

    // 较浅
    .lt, &.lt {
        @include color-schema($th-color, -$lt-percent, -2.5%);
    }

    // 更浅
    .lter, &.lter {
        @include color-schema($th-color, -$lter-percent, -5%);
    }

    // 较深
    .dk, &.dk {
        @include color-schema($th-color, $dk-percent, 2.5%);
    }

    // 更深
    .dker, &.dker {
        @include color-schema($th-color, $dker-percent, 5%);
    }
}

// 定义不同主题背景下的字体颜色
@mixin font-variant($th-color) {
    // 字体颜色
    $font-color: desaturate(lighten($th-color, 40%), 10%);
    // 链接颜色
    $link-color: desaturate(lighten($th-color, 10%), 10%);
    //
    $hover-color: #fff;

    color: $font-color;
    // a
    a {
        color: $link-color;
        &:hover,
        &:focus {
            color: $hover-color;
        }
    }
    .nav {
        > li {
            &:hover,
            &:focus,
            &.active {
                > a {
                    color: $hover-color;
                    @include color-schema($th-color, 5%, 2.5%);
                }
            }
            > a {
                color: darken($link-color, 5%);
                &:hover,
                &:focus {
                    @include color-schema($th-color, 3%, 2.5%);
                }
            }
        }
        .open > a {
            @include color-schema($th-color, 5%, 2.5%);
        }
    }

}

// 为每一种调色板颜色定义5中明暗梯度
@each $theme in primary, info, success, warning, danger, black, dark, light {
    .th-#{$theme} {
        @if $theme == primary {
            @include color-variant($brand-primary, 5%, 10%, 5%, 10%);
            @include font-variant($brand-primary);
        } @else if $theme == info {
            @include color-variant($brand-info, 5%, 10%, 5%, 10%);
            @include font-variant($brand-info);
        } @else if $theme == success {
            @include color-variant($brand-success, 5%, 10%, 5%, 10%);
            @include font-variant($brand-success);
        } @else if $theme == warning {
            @include color-variant($brand-warning, 5%, 10%, 5%, 10%);
            @include font-variant($brand-warning);
        } @else if $theme == danger {
            @include color-variant($brand-danger, 5%, 10%, 5%, 10%);
            @include font-variant($brand-danger);
        } @else if $theme == black {
            @include color-variant($brand-black, 5%, 10%, 5%, 10%);
            @include font-variant($brand-black);
        } @else if $theme == dark {
            @include color-variant($brand-dark, 5%, 10%, 5%, 10%);
            @include font-variant($brand-dark);
        } @else if $theme == light {
            //@include color-variant($brand-light, 5%, 10%, 5%, 10%);
            //@include font-variant($brand-light);
        }

    }
}

.th-white {
    background-color: #ffffff;
    a {
        color: $link-color;
        &:hover {
            color: $link-hover-color;
        }
    }
    .bg, &.bg,
    .lt, &.lt,
    .lter, &.lter,
    .dk, &.dk,
    .dker, &.dker {
        background-color: #ffffff;
    }
}

.th-light {
    // 字体颜色
    $font-color: desaturate(darken($brand-light, 40%), 10%);
    // 链接颜色
    $link-color: desaturate(darken($brand-light, 50%), 10%);
    //
    $hover-color: $link-hover-color;

    @include color-variant($brand-light, 5%, 10%, 5%, 10%);
    color: $text-color;
    a {
        color: desaturate($text-color, 10%);
        &:hover {
            color: $link-hover-color;
        }
    }
    .nav {
        > li {
            &:hover,
            //&:focus,
            &.active {
                > a {
                    color: $hover-color;
                    @include color-schema($brand-light, 5%, 2.5%);
                }
            }
            > a {
                color: darken($link-color, 5%);
                &:hover,
                &:focus {
                    @include color-schema($brand-light, 3%, 2.5%);
                }
            }
        }
        .open > a {
            @include color-schema($brand-light, 5%, 2.5%);
        }
    }
}
